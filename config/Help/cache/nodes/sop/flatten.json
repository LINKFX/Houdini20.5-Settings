{"type": "root", "attrs": {"type": "node", "context": "sop", "internal": "flatten", "icon": "SOP/flatten", "tags": "modeling", "since": "20.0", "version": null, "namespace": null}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["Flatten"], "extent": [0, 12]}, {"type": "summary", "indent": 0, "text": ["Flattens 3D geometry onto a plane."], "extent": [116, 158]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Overview"], "extent": [158, 173], "body": [{"type": "para", "indent": 0, "text": ["Use this SOP to flatten 3D geometry by moving selected points to a 2D plane."], "extent": [173, 252]}, {"type": "para", "indent": 0, "text": [{"scheme": "Image", "value": "/images/sop/flatten_default.jpg", "type": "img", "text": ""}], "extent": [252, 293]}, {"type": "para", "indent": 0, "text": ["The ", {"scheme": "Node", "value": "/nodes/sop/clip", "type": "link", "text": ["Clip"], "fullpath": "/nodes/sop/clip.html"}, " node deletes points on a plane to clip 3D geometry on one side of that plane. If you want to delete instead of flatten points, use the Clip node."], "extent": [293, 465]}, {"type": "para", "indent": 0, "text": ["This node was created to flatten the bottom of cloud geometry."], "extent": [465, 529]}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Tips and tricks"], "extent": [529, 551], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": ["You can use Flatten to ", {"type": "q", "text": ["flatten"]}, " geometry onto a unit sphere. Set ", {"type": "ui", "text": ["Direction"]}, " to  ", {"type": "ui", "text": ["Use Attribute"]}, ", set ", {"type": "ui", "text": ["Direction Attribute"]}, " to ", {"type": "code", "text": ["P"]}, ", set ", {"type": "ui", "text": ["Flatten"]}, " to ", {"type": "ui", "text": ["To Single Plane"]}, ", and ", {"type": "ui", "text": ["Distance"]}, " to ", {"type": "code", "text": ["1.0"]}, "."], "extent": [551, 761]}], "container": true}]}, {"level": 1, "id": "parameters", "container": true, "type": "parameters_section", "indent": 0, "role": "section", "extent": [761, 773], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Group"], "extent": [773, 781], "body": [{"type": "para", "indent": 4, "text": ["The subset of the input geometry to flatten. If this is blank, the node affects all the input geometry."], "extent": [796, 909]}], "container": true, "attrs": {"id": "group"}, "role": "item"}], "container": true, "role": "item_group"}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Orientation"], "extent": [909, 927], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Orient Using"], "extent": [927, 942], "body": [{"type": "para", "indent": 4, "text": ["Whether to orient the flattening plane using a vector (the direction perpendicular to the flattening plane) or rotation. "], "extent": [958, 1089]}], "container": true, "attrs": {"id": "orient"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Origin"], "extent": [1089, 1097], "body": [{"type": "para", "indent": 4, "text": ["The origin of the flattening plane. ", {"type": "ui", "text": ["Set Uniform"]}, " moves all points to the plane position specified in the parameters. You can set this to ", {"type": "ui", "text": ["Use Attribute"]}, " to move each point to a plane specified by an attribute on the point."], "extent": [1113, 1346]}, {"type": "para", "indent": 4, "text": ["The default values are ", {"type": "code", "text": ["0, 0, 0"]}, " and ", {"type": "ui", "text": ["Set Uniform"]}, "."], "extent": [1346, 1405]}], "container": true, "attrs": {"id": "origin"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Origin Attribute"], "extent": [1405, 1423], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Origin"]}, " is ", {"type": "ui", "text": ["Use Attribute"]}, ", this is the point attribute to use as the origin value."], "extent": [1445, 1544]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["pivot"]}, "."], "extent": [1544, 1583]}], "container": true, "attrs": {"id": "originattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction"], "extent": [1583, 1594], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Orient Using"]}, " is ", {"type": "ui", "text": ["Direction"]}, ", this is the direction perpendicular to the flattening plane. The origin point and this direction define the plane\u2019s location and orientation. You can set this to ", {"type": "ui", "text": ["Use Attribute"]}, " to orient the plane using an attribute on each point."], "extent": [1607, 1886]}, {"type": "para", "indent": 4, "text": ["The default values are ", {"type": "code", "text": ["0, 1, 0"]}, " and ", {"type": "ui", "text": ["Set Uniform"]}, "."], "extent": [1886, 1949]}], "container": true, "attrs": {"id": "dir"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Direction Attribute"], "extent": [1949, 1970], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Direction"]}, " is ", {"type": "ui", "text": ["Use Attribute"]}, ", this is the point attribute to use as the flattening direction."], "extent": [1989, 2103]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["N"]}, "."], "extent": [2103, 2138]}], "container": true, "attrs": {"id": "dirattrib"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rotation"], "extent": [2138, 2148], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Orient Using"]}, " is ", {"type": "ui", "text": ["Rotation"]}, ", this is the rotation vector of the flattening plane (from Y-up)."], "extent": [2161, 2270]}, {"type": "para", "indent": 4, "text": ["The default values are ", {"type": "code", "text": ["-90, 0, 0"]}, " and ", {"type": "ui", "text": ["Set Uniform"]}, "."], "extent": [2270, 2331]}], "container": true, "attrs": {"id": "rot"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Rotation Attribute"], "extent": [2331, 2351], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Rotation"]}, " is ", {"type": "ui", "text": ["Use Attribute"]}, ", this is the point attribute to use as the rotation value."], "extent": [2370, 2473]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["rot"]}, "."], "extent": [2473, 2510]}], "container": true, "attrs": {"id": "rotattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}, {"level": 2, "id": null, "container": true, "type": "h", "indent": 0, "text": ["Flatten"], "extent": [2510, 2524], "body": [{"type": "parameters_item_group", "body": [{"type": "parameters_item", "indent": 0, "text": ["Flatten"], "extent": [2524, 2534], "body": [{"type": "para", "indent": 4, "text": ["Whether to use one or two planes to flatten the 3D geometry."], "extent": [2555, 2621]}, {"type": "dt_group", "body": [{"type": "dt", "indent": 4, "text": ["Between Planes (default)"], "extent": [2621, 2651], "body": [{"type": "para", "indent": 8, "text": ["Flattens 3D geometry on one side of the flattening plane. You can also define two offset planes with the ", {"type": "ui", "text": ["Distance Min"]}, " and ", {"type": "ui", "text": ["Distance Max"]}, " parameters, and flatten all points onto those planes."], "extent": [2651, 2857]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/sop/flatten_two_planes.jpg", "type": "img", "text": ""}], "extent": [2857, 2909]}], "container": true}, {"type": "dt", "indent": 4, "text": ["To Single Plane"], "extent": [2909, 2930], "body": [{"type": "para", "indent": 8, "text": ["Flattens 3D geometry on ", {"type": "em", "text": ["both sides"]}, " of the plane onto the plane. Use this setting to flatten 3D geometry to a 2D plane."], "extent": [2930, 3060]}, {"type": "para", "indent": 8, "text": [{"scheme": "Image", "value": "/images/sop/flatten_single_plane_before.jpg", "type": "img", "text": ""}, "\n        ", {"scheme": "Image", "value": "/images/sop/flatten_single_plane_after.jpg", "type": "img", "text": ""}], "extent": [3060, 3184]}], "container": true}], "container": true}], "container": true, "attrs": {"id": "flattentype"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Strength"], "extent": [3184, 3194], "body": [{"type": "para", "indent": 4, "text": ["The amount of flattening. The default value of ", {"type": "code", "text": ["1"]}, " flattens the geometry to the given plane. Lower values blend between the original and the flattened shape to smooth and flatten the shape."], "extent": [3212, 3411]}, {"type": "para", "indent": 4, "text": ["Values higher than ", {"type": "code", "text": ["1"]}, " move the points ", {"type": "em", "text": ["beyond"]}, " the plane into an inverse shape."], "extent": [3411, 3497]}, {"type": "para", "indent": 4, "text": [{"scheme": "Image", "value": "/images/sop/flatten_strength.jpg", "type": "img", "text": ""}], "extent": [3497, 3543]}], "container": true, "attrs": {"id": "strength"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance Min"], "extent": [3543, 3557], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Flatten"]}, " is set to ", {"type": "ui", "text": ["Between Planes"]}, ", this is the distance from the origin to the minimum plane. The points below this value will be flattened to this plane."], "extent": [3574, 3746]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["0"]}, "."], "extent": [3746, 3777]}], "container": true, "attrs": {"id": "distmin"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance Max"], "extent": [3777, 3791], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Flatten"]}, " is set to ", {"type": "ui", "text": ["Between Planes"]}, ", this is the distance from the origin to the maximum plane. The points above this value will be flattened to this plane."], "extent": [3808, 3980]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["1"]}, "."], "extent": [3980, 4011]}], "container": true, "attrs": {"id": "distmax"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Distance"], "extent": [4011, 4021], "body": [{"type": "para", "indent": 4, "text": ["When ", {"type": "ui", "text": ["Flatten"]}, " is set to ", {"type": "ui", "text": ["To Single Plane"]}, ", this moves the plane along its normal."], "extent": [4035, 4127]}, {"type": "para", "indent": 4, "text": ["The default value is ", {"type": "code", "text": ["0"]}, "."], "extent": [4127, 4158]}], "container": true, "attrs": {"id": "dist"}, "role": "item"}, {"type": "parameters_item", "indent": 0, "text": ["Thickness Attribute"], "extent": [4158, 4179], "body": [{"type": "para", "indent": 4, "text": ["If you turn this parameter on and set it to the name of an attribute, the node offsets the flattening plane for each node by the value of this attribute."], "extent": [4204, 4367]}, {"type": "para", "indent": 4, "text": ["For example, using the default value of ", {"type": "code", "text": ["pscale"]}, " on a scattered point cloud that has spheres instanced on it aligns the spheres to sit on a ground plane."], "extent": [4367, 4526]}, {"type": "para", "indent": 4, "text": ["A point cloud without (left) and with (right) flattening to a ground plane. The instanced sphere primitives aren\u2019t aligned on the ground plane because the thickness attribute isn\u2019t used:"], "extent": [4526, 4718]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [4718, 4739], "body": [], "container": true, "attrs": {"image2": "/images/sop/flatten_original.png", "image1": "/images/sop/flatten_no_thickness.png"}}], "container": true, "role": "item_group"}, {"type": "para", "indent": 4, "text": ["A point cloud flattened without (left) and with (right) using the thickness attribute. The instanced sphere primitives are aligned on the ground plane:"], "extent": [4844, 5001]}, {"type": "compare_images_group", "body": [{"ext": null, "type": "compare_images", "indent": 4, "role": "item", "extent": [5001, 5022], "body": [], "container": true, "attrs": {"image2": "/images/sop/flatten_no_thickness.png", "image1": "/images/sop/flatten_thickness.png"}}], "container": true, "role": "item_group"}], "container": true, "attrs": {"id": "thicknessattrib"}, "role": "item"}], "container": true, "role": "item_group"}]}], "text": "Parameters"}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [5132, 5141], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Node", "value": "/nodes/sop/clip", "type": "link", "text": ["Clip"], "fullpath": "/nodes/sop/clip.html"}], "extent": [5141, 5164]}], "container": true}], "text": "Related"}], "title": ["Flatten"], "summary": ["Flattens 3D geometry onto a plane."]}